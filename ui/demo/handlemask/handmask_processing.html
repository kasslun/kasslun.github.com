<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>handleMask example</title>
    <link rel="stylesheet" type="text/css" href="../../ui/themes/default/css/comtop.ui.min.css" />
    <script type="text/javascript" src="../../ui/js/comtop.ui.min.js" charset="gbk"></script>
    <style type="text/css">
        .custom_hmstyle{
            padding: 5px 10px 5px 24px;
            height:16px;
            line-height: 16px;
            width:20px;
            text-align: right;
            border:1px solid #ccc;
            background: #fff url(loading.gif) 5px 50% no-repeat;
        }
    </style>
</head>
<body>

<input type="button" value="打开进度条" onclick="processHandle();"/>
<script type="text/javascript">
    //自定义handleMask显示内容
    cui.handleMask({
        html: '<div class="custom_hmstyle"><span id="process">0%</span></div>'
    });

    var process = 0,
            intervalTime = null;
    //开始计算进度，这是一个模拟方法，原理是根据情况变更百分比
    function processHandle(){
        cui.handleMask.show();
        intervalTime = setInterval(function(){
            process ++;
            document.getElementById('process').innerHTML = process + '%';
            if(process >= 100){
                cui.handleMask.hide();
                process = 0;
                clearInterval(intervalTime);
            }
        }, 200);
    }
</script>
</body>
</html>